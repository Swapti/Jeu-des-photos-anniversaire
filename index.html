<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Classement d'images - Mobile Friendly</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
font-family: sans-serif;
text-align: center;
margin: 10px;
}

#images {
display: flex;
flex-wrap: wrap;
gap: 10px;
justify-content: center;
}

.image-container {
width: 30vw;
height: 30vw;
max-width: 120px;
max-height: 120px;
border: 2px solid #ccc;
overflow: hidden;
display: flex;
align-items: center;
justify-content: center;
position: relative;
cursor: pointer;
}

.image-container.selected {
border: 3px solid #007bff;
}

.image-container img {
width: 100%;
height: 100%;
object-fit: cover;
}

#result {
margin-top: 20px;
font-size: 1.5em;
padding: 10px;
display: inline-block;
border-radius: 10px;
}

.success {
background-color: #d4edda;
color: #155724;
border: 2px solid #c3e6cb;
}

.error {
background-color: #f8d7da;
color: #721c24;
border: 2px solid #f5c6cb;
}

button {
margin-top: 20px;
padding: 10px 20px;
font-size: 1em;
}
</style>
</head>
<body>

<h2>Classe les images dans le bon ordre !</h2>

<div id="images"></div>
<button onclick="checkOrder()">Vérifier</button>
<div id="result"></div>

<script>
const imagePaths = [
"SAbri 2004 vdef.JPG",
"Sabri 2005 vdef.JPG",
"Sabri 2007 vdef.JPG",
"SAbri 2008 vdef.JPG",
"SABRI 2013 vdef.JPEG",
"SAbri 2014 vdef.jpg",
"SAbri 2018 vdef.JPEG",
"Sabri 2020.JPEG",
"SAbri 2023 vdef.JPEG",
"Sabri 2024 Vdef.JPEG"
];

const correctOrder = [...imagePaths].map(name => name.toLowerCase().replace(/\s+/g, ''));
const shuffled = [...imagePaths].sort(() => 0.5 - Math.random());
const container = document.getElementById("images");
let firstSelected = null;

function createImageElement(src) {
const div = document.createElement("div");
div.className = "image-container";

const img = document.createElement("img");
img.src = src;
div.appendChild(img);

div.addEventListener("click", () => {
if (firstSelected === null) {
firstSelected = div;
div.classList.add("selected");
} else if (firstSelected === div) {
firstSelected.classList.remove("selected");
firstSelected = null;
} else {
// Swap images
const img1 = firstSelected.querySelector("img").src;
const img2 = div.querySelector("img").src;
firstSelected.querySelector("img").src = img2;
div.querySelector("img").src = img1;

firstSelected.classList.remove("selected");
firstSelected = null;
}
});

return div;
}

function loadImages() {
shuffled.forEach(src => {
container.appendChild(createImageElement(src));
});
}

function getFileName(src) {
return src.split("/").pop().toLowerCase().replace(/\s+/g, '');
}

function checkOrder() {
const currentOrder = [...container.children].map(div =>
getFileName(div.querySelector("img").src)
);

const resultDiv = document.getElementById("result");

if (JSON.stringify(currentOrder) === JSON.stringify(correctOrder)) {
resultDiv.textContent = "Gagné !";
resultDiv.className = "success";
} else {
resultDiv.textContent = "Ce n'est pas encore bon. Essaie encore.";
resultDiv.className = "error";
}
}

loadImages();
</script>

</body>
</html>
